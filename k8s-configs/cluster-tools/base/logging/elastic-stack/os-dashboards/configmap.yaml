apiVersion: v1
kind: ConfigMap
metadata:
  name: opensearch-dashboards-config
  labels:
    app.kubernetes.io/name: opensearch-dashboards
data:
  opensearch_dashboards.yml: |
    opensearch.ssl.verificationMode: full
    opensearch.ssl.certificateAuthorities: /usr/share/opensearch-dashboards/config/certs/ca.crt
    opensearch.requestHeadersAllowlist: ["Authorization", "security_tenant"]
    opensearch_security.auth.anonymous_auth_enabled: false
    opensearch_security.multitenancy.enabled: false
    opensearch_security.readonly_mode.roles: [kibana_read_only]
    # Use this setting if you are running opensearch-dashboards without https
    opensearch_security.cookie.secure: false
    server.host: '0.0.0.0'
    # Use the consolidated menu and global header bar
    opensearchDashboards.branding.useExpandedHeader: false
    opensearch_security.auth.type: [ "basicauth","openid" ]
    opensearch_security.auth.multiple_auth_enabled: true
    opensearch_security.openid.connect_url: https://auth.pingone.eu/277c89a6-fb5d-477d-b367-2422f473dc9b/as/.well-known/openid-configuration
    opensearch_security.openid.client_id: client_id
    opensearch_security.openid.client_secret: client_secret
    opensearch_security.openid.trust_dynamic_headers: true
    opensearch_security.openid.scope: "openid profile email address phone groups"